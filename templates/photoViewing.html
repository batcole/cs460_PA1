<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Photo Viewing</title>
</head>
<body>


<form method="post" action="{{url_for('photo_stream') }}">

	<label for="tags">Filter for tags</label>
	<select name = "existing_tags" required="true">
		{% for tag in tagList %}
		<option value="{{tag}}">{{tag}}</option>
		{% endfor %}
	</select><br/>


	<label for="tagTextLabel">Add list of tags to filter above</label>
	<input type="text" name="tags" value="{{tags}}">
	<select name="filter" required="true">
		<option value="all">All Photos</option>
		<option value="me">My Photos</option>
	</select>

	<input type="submit" name="submit" value="submit"/> <br/>

</form>

{% if topTags %}
<h2>Here are all the top tags on BS</h2>
{% for tag in topTags %}
            <li>
            {{ tag[0] }}
            </li>
        {% endfor %}
{% endif %}




{% if photos %}
    <h2>Here are the photos</h2>
        <ul>
        {% for photo in photos %}
            <li>
            <form method="post" action="{{url_for('photo_stream') }}">
            <img src='data:image/png;base64, {{photo[0]}}'/>

            <button name="like" value="{{ photo[1] }}" type="submit">Like</button>

            </form>


                <form method="POST" action="{{ url_for('postComment') }}">
                    <br>Comment:<br>
                    <input type="text" name="comment" id="comment">
                    <input type="hidden" name="pid" value="{{ photo[1] }}">
                    <input type="submit" value="submit">
                </form>
            <form method="post" action="{{url_for('photo_stream') }}">
            <button type="submit" name="view" value="{{photo[1]}}">View likes and comments</button>
            </form>

            </li>
        {% endfor %}
        </ul>
{% endif %}

{% if multPhotos %}
    <h2>Here are the photos</h2>
        <ul>
        {% for photo in multPhotos %}
            <li>
            {{photo[0][2]}}<br>
            <form method="post" action="{{url_for('photo_stream') }}">
            <img src='data:image/png;base64, {{photo[0][0]}}'/>
            <button name="like" value="{{ photo[1] }}" type="submit">Like</button>
            <button type="submit" name="view" value="{{photo[1]}}">View likes and comments</button>
            </form>


                <form method="POST" action="{{ url_for('postComment') }}">
                    <br>Comment:<br>
                    <input type="text" name="comment" id="comment">
                    <input type="hidden" name="pid" value="{{ photo[1] }}">
                    <input type="submit" value="submit">
                </form>
            <form method="POST" action="{{ url_for('postComment') }}">
            <button type="submit" name="view" value="{{photo[1]}}">View likes and comments</button>
            </form>

            </li>
        {% endfor %}
        </ul>
{% endif %}


<br>
{% if likesVisible %}
	<label>Likes : <strong>{{likes}}</strong></label><br>
	<label>Users Who Liked: {{users}}</label><br>
	{% for comment in comments %}
			<label>Commented by: {{comment[0]}}: "{{comment[1]}}" on ({{comment[2]}})</label><br>
	{% endfor %}
{% endif %}





</form>


</body>
</html>